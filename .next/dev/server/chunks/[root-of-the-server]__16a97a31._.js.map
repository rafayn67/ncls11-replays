{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Downloads/NCLS11/app/api/uploadReplay/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport fs from \"fs\";\r\nimport path from \"path\";\r\n\r\nexport async function POST(req: Request) {\r\n  try {\r\n    const formData = await req.formData();\r\n    const file = formData.get(\"file\") as File;\r\n    const savePath = formData.get(\"path\") as string;\r\n\r\n    if (!file) {\r\n      return NextResponse.json({ error: \"No file uploaded\" }, { status: 400 });\r\n    }\r\n\r\n    const bytes = await file.arrayBuffer();\r\n    const buffer = Buffer.from(bytes);\r\n\r\n    // Final destination inside /public/\r\n    const finalPath = path.join(process.cwd(), \"public\", savePath);\r\n    const dir = path.dirname(finalPath);\r\n\r\n    // Ensure directory exists\r\n    fs.mkdirSync(dir, { recursive: true });\r\n\r\n    // Save file\r\n    fs.writeFileSync(finalPath, buffer);\r\n\r\n    return NextResponse.json({ success: true });\r\n  } catch (e) {\r\n    console.error(e);\r\n    return NextResponse.json({ error: \"Server error\" }, { status: 500 });\r\n  }\r\n}"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,eAAe,KAAK,GAAY;IACrC,IAAI;QACF,MAAM,WAAW,MAAM,IAAI,QAAQ;QACnC,MAAM,OAAO,SAAS,GAAG,CAAC;QAC1B,MAAM,WAAW,SAAS,GAAG,CAAC;QAE9B,IAAI,CAAC,MAAM;YACT,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAmB,GAAG;gBAAE,QAAQ;YAAI;QACxE;QAEA,MAAM,QAAQ,MAAM,KAAK,WAAW;QACpC,MAAM,SAAS,OAAO,IAAI,CAAC;QAE3B,oCAAoC;QACpC,MAAM,YAAY,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,UAAU;QACrD,MAAM,MAAM,4GAAI,CAAC,OAAO,CAAC;QAEzB,0BAA0B;QAC1B,wGAAE,CAAC,SAAS,CAAC,KAAK;YAAE,WAAW;QAAK;QAEpC,YAAY;QACZ,wGAAE,CAAC,aAAa,CAAC,WAAW;QAE5B,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAK;IAC3C,EAAE,OAAO,GAAG;QACV,QAAQ,KAAK,CAAC;QACd,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAe,GAAG;YAAE,QAAQ;QAAI;IACpE;AACF"}}]
}